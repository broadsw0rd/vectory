!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).Vector=n()}(this,function(){"use strict";function r(t,n){this.x=t||0,this.y=n||0}function n(t,n){var i=Math.cos(n),r=Math.sin(n),e=t.x,o=t.y;return t.x=e*i-o*r,t.y=e*r+o*i,t}r.displayName="Vector",r.from=function(t){return new r(t[0],t[1])},r.fromAngle=function(t,n){return new r(n*Math.cos(t),n*Math.sin(t))},r.parse=function(t){return r.from(t.trim().replace(","," ").split(/\s+/).map(parseFloat))},r.add=function(t,n){return n.add(t)},r.prototype.add=function(t){return new r(this.x+t.x,this.y+t.y)},r.iadd=function(t,n){return n.iadd(t)},r.prototype.iadd=function(t){return this.x+=t.x,this.y+=t.y,this},r.sub=function(t,n){return n.sub(t)},r.prototype.sub=function(t){return new r(this.x-t.x,this.y-t.y)},r.isub=function(t,n){return n.isub(t)},r.prototype.isub=function(t){return this.x-=t.x,this.y-=t.y,this},r.mul=function(t,n){return n.mul(t)},r.prototype.mul=function(t){return new r(this.x*t,this.y*t)},r.imul=function(t,n){return n.imul(t)},r.prototype.imul=function(t){return this.x*=t,this.y*=t,this},r.div=function(t,n){return n.div(t)},r.prototype.div=function(t){return new r(this.x/t,this.y/t)},r.idiv=function(t,n){return n.idiv(t)},r.prototype.idiv=function(t){return this.x/=t,this.y/=t,this},r.lerp=function(t,n,i){return t.lerp(n,i)},r.prototype.lerp=function(t,n){return new r((1-n)*this.x+n*t.x,(1-n)*this.y+n*t.y)},r.normalized=function(t){return t.normalized()},r.prototype.normalized=function(){var t=this.x,n=this.y,i=Math.sqrt(t*t+n*n);return 0<i?new r(t/i,n/i):new r(0,0)},r.normalize=function(t){return t.normalize()},r.prototype.normalize=function(){var t=this.x,n=this.y,i=Math.sqrt(t*t+n*n);return 0<i&&(this.x=t/i,this.y=n/i),this},r.magnitude=function(t){return t.magnitude()},r.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.dot=function(t,n){return n.dot(t)},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.distance=function(t,n){return n.distance(t)},r.prototype.distance=function(t){var n=this.x-t.x,i=this.y-t.y;return Math.sqrt(n*n+i*i)},r.angleOf=function(t){return t.angleOf()},r.prototype.angleOf=function(){return Math.atan2(this.y,this.x)},r.angleTo=function(t,n){return n.angleTo(t)},r.prototype.angleTo=function(t){return Math.acos(this.dot(t)/(this.magnitude()*t.magnitude()))},r.rotate=function(t,n){return n.rotate(t)},r.prototype.rotate=function(t){return n(this.copy(),t)},r.irotate=function(t,n){return n.irotate(t)},r.prototype.irotate=function(t){return n(this,t)},r.reset=function(t,n){return n.reset(t)},r.prototype.reset=function(t){return this.x=t.x,this.y=t.y,this},r.zero=function(t){return t.zero()},r.prototype.zero=function(){return this.x=0,this.y=0,this},r.set=function(t,n,i){return i.set(t,n)},r.prototype.set=function(t,n){return this.x=t||0,this.y=n||0,this},r.copy=function(t){return t.copy()},r.prototype.copy=function(){return new r(this.x,this.y)},r.clone=r.copy,r.prototype.clone=r.prototype.copy,r.toJSON=function(t){return t.toJSON()},r.prototype.toJSON=function(){return[this.x,this.y]},r.toString=function(t){return t?t.toString():Function.prototype.toString.call(this)},r.prototype.toString=function(){return this.x.toFixed(3)+" "+this.y.toFixed(3)},"undefined"!=typeof Symbol&&Symbol.toStringTag&&(r.prototype[Symbol.toStringTag]="Vector"),r.toArray=function(t){return t.toArray()},r.prototype.toArray=function(){return[this.x,this.y]};var i="EPSILON"in Number?Number.EPSILON:2220446049250313e-31;function t(t){this.vector=t,this.__idx=0}return r.equals=function(t,n){return t.equals(n)},r.prototype.equals=function(t){return Math.abs(this.x-t.x)<i&&Math.abs(this.y-t.y)<i},r.compare=function(t,n){return t.compare(n)},r.prototype.compare=function(t){var n=this.magnitude(),i=t.magnitude();return(i<n)-(n<i)},Object.defineProperties(r.prototype,{xx:{configurable:!0,get:function(){return new r(this.x,this.x)},set:function(t){this.x=t.x,this.y=t.x}},xy:{configurable:!0,get:function(){return new r(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},yx:{configurable:!0,get:function(){return new r(this.y,this.x)},set:function(t){this.x=t.y,this.y=t.x}},yy:{configurable:!0,get:function(){return new r(this.y,this.y)},set:function(t){this.x=t.y,this.y=t.y}}}),t.prototype.next=function(){return 0===this.__idx?(this.__idx++,{done:!1,value:this.vector.x}):1===this.__idx?(this.__idx++,{done:!1,value:this.vector.y}):{done:!0,value:void 0}},"undefined"!=typeof Symbol&&Symbol.iterator&&(r.prototype[Symbol.iterator]=function(){return new t(this)}),r});
